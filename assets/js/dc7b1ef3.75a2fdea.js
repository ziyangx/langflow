"use strict";(self.webpackChunklangflow_docs=self.webpackChunklangflow_docs||[]).push([[868],{75671:(e,o,n)=>{n.r(o),n.d(o,{CH:()=>a,assets:()=>d,chCodeConfig:()=>h,contentTitle:()=>i,default:()=>u,frontMatter:()=>c,metadata:()=>l,toc:()=>p});const l=JSON.parse('{"id":"Deployment/deployment-docker","title":"Deploy Langflow on Docker","description":"This guide demonstrates deploying Langflow with Docker and Docker Compose.","source":"@site/docs/Deployment/deployment-docker.md","sourceDirName":"Deployment","slug":"/deployment-docker","permalink":"/deployment-docker","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Deploy Langflow on Docker","slug":"/deployment-docker"},"sidebar":"docs","previous":{"title":"Security best practices","permalink":"/configuration-security-best-practices"},"next":{"title":"Google Cloud Platform","permalink":"/deployment-gcp"}}');var s=n(74848),r=n(28453),t=n(24754);const c={title:"Deploy Langflow on Docker",slug:"/deployment-docker"},i=void 0,d={},a={annotations:t.hk,Code:t.Cy},h={staticMediaQuery:"not screen, (max-width: 768px)",lineNumbers:!0,showCopyButton:!0,themeName:"github-dark"},p=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Clone the repo and build the Langflow Docker container",id:"clone-the-repo-and-build-the-langflow-docker-container",level:2},{value:"Configure Docker services",id:"configure-docker-services",level:2},{value:"Langflow service",id:"langflow-service",level:3},{value:"PostgreSQL service",id:"postgresql-service",level:3},{value:"Deploy a specific Langflow version with Docker Compose",id:"deploy-a-specific-langflow-version-with-docker-compose",level:3},{value:"Package your flow as a Docker image",id:"package-your-flow-as-a-docker-image",level:2}];function g(e){const o={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",ul:"ul",...(0,r.R)(),...e.components};return a||f("CH",!1),a.Code||f("CH.Code",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:'[data-ch-theme="github-dark"] {  --ch-t-colorScheme: dark;--ch-t-foreground: #c9d1d9;--ch-t-background: #0d1117;--ch-t-lighter-inlineBackground: #0d1117e6;--ch-t-editor-background: #0d1117;--ch-t-editor-foreground: #c9d1d9;--ch-t-editor-lineHighlightBackground: #6e76811a;--ch-t-editor-rangeHighlightBackground: #ffffff0b;--ch-t-editor-infoForeground: #3794FF;--ch-t-editor-selectionBackground: #264F78;--ch-t-focusBorder: #1f6feb;--ch-t-tab-activeBackground: #0d1117;--ch-t-tab-activeForeground: #c9d1d9;--ch-t-tab-inactiveBackground: #010409;--ch-t-tab-inactiveForeground: #8b949e;--ch-t-tab-border: #30363d;--ch-t-tab-activeBorder: #0d1117;--ch-t-editorGroup-border: #30363d;--ch-t-editorGroupHeader-tabsBackground: #010409;--ch-t-editorLineNumber-foreground: #6e7681;--ch-t-input-background: #0d1117;--ch-t-input-foreground: #c9d1d9;--ch-t-input-border: #30363d;--ch-t-icon-foreground: #8b949e;--ch-t-sideBar-background: #010409;--ch-t-sideBar-foreground: #c9d1d9;--ch-t-sideBar-border: #30363d;--ch-t-list-activeSelectionBackground: #6e768166;--ch-t-list-activeSelectionForeground: #c9d1d9;--ch-t-list-hoverBackground: #6e76811a;--ch-t-list-hoverForeground: #c9d1d9; }'}}),"\n",(0,s.jsx)(o.p,{children:"This guide demonstrates deploying Langflow with Docker and Docker Compose."}),"\n",(0,s.jsx)(o.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:(0,s.jsx)(o.a,{href:"https://docs.docker.com/",children:"Docker"})}),"\n",(0,s.jsx)(o.li,{children:(0,s.jsx)(o.a,{href:"https://docs.docker.com/compose/",children:"Docker Compose"})}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"clone-the-repo-and-build-the-langflow-docker-container",children:"Clone the repo and build the Langflow Docker container"}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsx)(o.p,{children:"Clone the Langflow repository:"}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.code,{children:"git clone https://github.com/langflow-ai/langflow.git"})}),"\n"]}),"\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsxs)(o.p,{children:["Navigate to the ",(0,s.jsx)(o.code,{children:"docker_example"})," directory:"]}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.code,{children:"cd langflow/docker_example"})}),"\n"]}),"\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsx)(o.p,{children:"Run the Docker Compose file:"}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.code,{children:"docker compose up"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(o.p,{children:["Langflow is now accessible at ",(0,s.jsx)(o.code,{children:"http://localhost:7860/"}),"."]}),"\n",(0,s.jsx)(o.h2,{id:"configure-docker-services",children:"Configure Docker services"}),"\n",(0,s.jsxs)(o.p,{children:["The Docker Compose configuration spins up two services: ",(0,s.jsx)(o.code,{children:"langflow"})," and ",(0,s.jsx)(o.code,{children:"postgres"}),"."]}),"\n",(0,s.jsxs)(o.p,{children:["To configure values for these services at container startup, include them in your ",(0,s.jsx)(o.code,{children:".env"})," file."]}),"\n",(0,s.jsxs)(o.p,{children:["An example ",(0,s.jsx)(o.code,{children:".env"})," file is available in the ",(0,s.jsx)(o.a,{href:"https://github.com/langflow-ai/langflow/blob/main/.env.example",children:"project repository"}),"."]}),"\n",(0,s.jsxs)(o.p,{children:["To pass the ",(0,s.jsx)(o.code,{children:".env"})," values at container startup, include the flag in your ",(0,s.jsx)(o.code,{children:"docker run"})," command:"]}),"\n",(0,s.jsx)(a.Code,{codeConfig:h,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"docker run -it --rm \\",props:{}}]},{tokens:[{content:"    -p 7860:7860 \\",props:{}}]},{tokens:[{content:"    --env-file .env \\",props:{}}]},{tokens:[{content:"    langflowai/langflow:latest",props:{}}]}],lang:"text"},annotations:[]}]}),"\n",(0,s.jsx)(o.h3,{id:"langflow-service",children:"Langflow service"}),"\n",(0,s.jsxs)(o.p,{children:["The ",(0,s.jsx)(o.code,{children:"langflow"}),"service serves both the backend API and frontend UI of the Langflow web application."]}),"\n",(0,s.jsxs)(o.p,{children:["The ",(0,s.jsx)(o.code,{children:"langflow"})," service uses the ",(0,s.jsx)(o.code,{children:"langflowai/langflow:latest"})," Docker image and exposes port ",(0,s.jsx)(o.code,{children:"7860"}),". It depends on the ",(0,s.jsx)(o.code,{children:"postgres"})," service."]}),"\n",(0,s.jsx)(o.p,{children:"Environment variables:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"LANGFLOW_DATABASE_URL"}),": The connection string for the PostgreSQL database."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"LANGFLOW_CONFIG_DIR"}),": The directory where Langflow stores logs, file storage, monitor data, and secret keys."]}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"Volumes:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"langflow-data"}),": This volume is mapped to ",(0,s.jsx)(o.code,{children:"/app/langflow"})," in the container."]}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"postgresql-service",children:"PostgreSQL service"}),"\n",(0,s.jsxs)(o.p,{children:["The ",(0,s.jsx)(o.code,{children:"postgres"})," service is a database that stores Langflow's persistent data including flows, users, and settings."]}),"\n",(0,s.jsx)(o.p,{children:"The service runs on port 5432 and includes a dedicated volume for data storage."}),"\n",(0,s.jsxs)(o.p,{children:["The ",(0,s.jsx)(o.code,{children:"postgres"})," service uses the ",(0,s.jsx)(o.code,{children:"postgres:16"})," Docker image."]}),"\n",(0,s.jsx)(o.p,{children:"Environment variables:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"POSTGRES_USER"}),": The username for the PostgreSQL database."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"POSTGRES_PASSWORD"}),": The password for the PostgreSQL database."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"POSTGRES_DB"}),": The name of the PostgreSQL database."]}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"Volumes:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"langflow-postgres"}),": This volume is mapped to ",(0,s.jsx)(o.code,{children:"/var/lib/postgresql/data"})," in the container."]}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"deploy-a-specific-langflow-version-with-docker-compose",children:"Deploy a specific Langflow version with Docker Compose"}),"\n",(0,s.jsxs)(o.p,{children:["If you want to deploy a specific version of Langflow, you can modify the ",(0,s.jsx)(o.code,{children:"image"})," field under the ",(0,s.jsx)(o.code,{children:"langflow"})," service in the Docker Compose file. For example, to use version ",(0,s.jsx)(o.code,{children:"1.0-alpha"}),", change ",(0,s.jsx)(o.code,{children:"langflowai/langflow:latest"})," to ",(0,s.jsx)(o.code,{children:"langflowai/langflow:1.0-alpha"}),"."]}),"\n",(0,s.jsx)(o.h2,{id:"package-your-flow-as-a-docker-image",children:"Package your flow as a Docker image"}),"\n",(0,s.jsxs)(o.p,{children:["You can include your Langflow flow with the application image.\nWhen you build the image, your saved flow ",(0,s.jsx)(o.code,{children:".JSON"})," flow is included.\nThis enables you to serve a flow from a container, push the image to Docker Hub, and deploy on Kubernetes."]}),"\n",(0,s.jsxs)(o.p,{children:["An example flow is available in the ",(0,s.jsx)(o.a,{href:"https://github.com/langflow-ai/langflow-helm-charts/tree/main/examples/flows",children:"Langflow Helm Charts"})," repository, or you can provide your own ",(0,s.jsx)(o.code,{children:"JSON"})," file."]}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsx)(o.li,{children:"Create a project directory:"}),"\n"]}),"\n",(0,s.jsx)(a.Code,{codeConfig:h,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"mkdir ",props:{style:{color:"#FFA657"}}},{content:"langflow-custom",props:{style:{color:"#A5D6FF"}}},{content:" && ",props:{style:{color:"#C9D1D9"}}},{content:"cd ",props:{style:{color:"#79C0FF"}}},{content:"langflow-custom",props:{style:{color:"#A5D6FF"}}}]}],lang:"shell"},annotations:[]}]}),"\n",(0,s.jsxs)(o.ol,{start:"2",children:["\n",(0,s.jsxs)(o.li,{children:["Download the example flow or include your flow's ",(0,s.jsx)(o.code,{children:".JSON"})," file in the ",(0,s.jsx)(o.code,{children:"langflow-custom"})," directory."]}),"\n"]}),"\n",(0,s.jsx)(a.Code,{codeConfig:h,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"wget ",props:{style:{color:"#FFA657"}}},{content:"https://raw.githubusercontent.com/langflow-ai/langflow-helm-charts/refs/heads/main/examples/flows/basic-prompting-hello-world.json",props:{style:{color:"#A5D6FF"}}}]}],lang:"shell"},annotations:[]}]}),"\n",(0,s.jsxs)(o.ol,{start:"3",children:["\n",(0,s.jsx)(o.li,{children:"Create a Dockerfile:"}),"\n"]}),"\n",(0,s.jsx)(a.Code,{codeConfig:h,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"FROM",props:{style:{color:"#FF7B72"}}},{content:" langflowai/langflow:latest",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"RUN",props:{style:{color:"#FF7B72"}}},{content:" mkdir /app/flows",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"COPY",props:{style:{color:"#FF7B72"}}},{content:" ./*json /app/flows/.",props:{style:{color:"#C9D1D9"}}}]}],lang:"dockerfile"},annotations:[]}]}),"\n",(0,s.jsxs)(o.p,{children:["The ",(0,s.jsx)(o.code,{children:"COPY ./*json"})," command copies all JSON files in your current directory to the ",(0,s.jsx)(o.code,{children:"/flows"})," folder."]}),"\n",(0,s.jsxs)(o.ol,{start:"4",children:["\n",(0,s.jsx)(o.li,{children:"Build and run the image locally."}),"\n"]}),"\n",(0,s.jsx)(a.Code,{codeConfig:h,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"docker ",props:{style:{color:"#FFA657"}}},{content:"build ",props:{style:{color:"#A5D6FF"}}},{content:"-t ",props:{style:{color:"#79C0FF"}}},{content:"myuser/langflow-hello-world:",props:{style:{color:"#A5D6FF"}}},{content:"1.0.0 ",props:{style:{color:"#79C0FF"}}},{content:".",props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"docker ",props:{style:{color:"#FFA657"}}},{content:"run ",props:{style:{color:"#A5D6FF"}}},{content:"-p ",props:{style:{color:"#79C0FF"}}},{content:"7860:",props:{style:{color:"#A5D6FF"}}},{content:"7860 ",props:{style:{color:"#79C0FF"}}},{content:"myuser/langflow-hello-world:",props:{style:{color:"#A5D6FF"}}},{content:"1.0.0",props:{style:{color:"#79C0FF"}}}]}],lang:"shell"},annotations:[]}]}),"\n",(0,s.jsxs)(o.ol,{start:"5",children:["\n",(0,s.jsxs)(o.li,{children:["Build and push the image to Docker Hub.\nReplace ",(0,s.jsx)(o.code,{children:"myuser"})," with your Docker Hub username."]}),"\n"]}),"\n",(0,s.jsx)(a.Code,{codeConfig:h,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"docker ",props:{style:{color:"#FFA657"}}},{content:"build ",props:{style:{color:"#A5D6FF"}}},{content:"-t ",props:{style:{color:"#79C0FF"}}},{content:"myuser/langflow-hello-world:",props:{style:{color:"#A5D6FF"}}},{content:"1.0.0 ",props:{style:{color:"#79C0FF"}}},{content:".",props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"docker ",props:{style:{color:"#FFA657"}}},{content:"push myuser/langflow-hello-world:",props:{style:{color:"#A5D6FF"}}},{content:"1.0.0",props:{style:{color:"#79C0FF"}}}]}],lang:"shell"},annotations:[]}]}),"\n",(0,s.jsxs)(o.p,{children:["To deploy the image with Helm, see ",(0,s.jsx)(o.a,{href:"/deployment-kubernetes#deploy-the-langflow-runtime",children:"Langflow runtime deployment"}),"."]})]})}function u(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(g,{...e})}):g(e)}function f(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);